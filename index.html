<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0f172a">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <title>Auto Service Intake</title>
  <link rel="stylesheet" href="styles/style.css" />
</head>
<body>
  <div class="app" id="app">
    <header>
      <h1>Auto Service Intake</h1>
      <div class="right">
        <span class="pill">Mode: <strong id="modeLabel">Customer</strong></span>
        <span class="time" id="clock"></span>
        <button class="btn secondary" onclick="enterStaffMode()">Staff</button>
      </div>
    </header>
    <div class="content" id="view"></div>
  </div>
  <!-- Existing intake form markup goes here -->

<!-- Staff-only access section -->
<div id="staffLogin" style="margin-top:20px;">
  <h3>Staff Access</h3>
  <input type="password" id="staffPin" placeholder="Enter PIN">
  <button onclick="checkStaffPin()">Login</button>
</div>

<!-- Hidden saved intake list -->
<div id="savedIntakes" style="display:none; margin-top:20px;">
  <h2>Previous Intakes</h2>
  <div id="intakeList"></div>
</div>


  <!-- Order matters: trees.js defines TREES, app.js uses it -->
  <script src="js/app.js"></script>
  <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      // If you host under a subfolder, use 'sw.js' (relative), not '/sw.js'
      navigator.serviceWorker.register('sw.js');
    });
  }
</script>

</body>
</html>
